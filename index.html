<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Grocery List</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <path d="M16 10a4 4 0 0 1-8 0"></path>
            </svg>
            Grocery List
        </h1>
        
        <div class="input-section">
            <input type="text" id="itemInput" placeholder="Add a new item...">
            <button id="addBtn">Add Item</button>
        </div>
        
        <div class="filter-section">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="active">Active</button>
            <button class="filter-btn" data-filter="completed">Completed</button>
        </div>
        
        <ul class="grocery-list" id="groceryList">
            <!-- Items will be added here dynamically -->
        </ul>
        
        <div class="empty-state" id="emptyState">
            <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
                <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <path d="M16 10a4 4 0 0 1-8 0"></path>
            </svg>
            <h3>Your grocery list is empty</h3>
            <p>Add items to get started with your shopping</p>
        </div>
        
        <div class="stats">
            <span id="totalItems">Total: 0 items</span>
            <span id="completedItems">Completed: 0</span>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const itemInput = document.getElementById('itemInput');
            const addBtn = document.getElementById('addBtn');
            const groceryList = document.getElementById('groceryList');
            const emptyState = document.getElementById('emptyState');
            const filterBtns = document.querySelectorAll('.filter-btn');
            const totalItemsSpan = document.getElementById('totalItems');
            const completedItemsSpan = document.getElementById('completedItems');
            
            // State
            let groceries = JSON.parse(localStorage.getItem('groceries')) || [];
            let currentFilter = 'all';
            
            // Initialize the app
            init();
            
            function init() {
                renderGroceryList();
                updateStats();
                
                // Event Listeners
                addBtn.addEventListener('click', addItem);
                itemInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        addItem();
                    }
                });
                
                filterBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        // Update active filter button
                        filterBtns.forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                        
                        // Set current filter and re-render
                        currentFilter = this.getAttribute('data-filter');
                        renderGroceryList();
                    });
                });
            }
            
            function addItem() {
                const itemName = itemInput.value.trim();
                
                if (itemName === '') {
                    alert('Please enter an item name');
                    return;
                }
                
                // Create new item
                const newItem = {
                    id: Date.now(),
                    name: itemName,
                    completed: false
                };
                
                // Add to array and update storage
                groceries.push(newItem);
                saveToLocalStorage();
                
                // Clear input and re-render
                itemInput.value = '';
                renderGroceryList();
                updateStats();
            }
            
            function toggleItem(id) {
                // Find and toggle item
                groceries = groceries.map(item => {
                    if (item.id === id) {
                        return { ...item, completed: !item.completed };
                    }
                    return item;
                });
                
                saveToLocalStorage();
                renderGroceryList();
                updateStats();
            }
            
            function editItem(id) {
                const item = groceries.find(item => item.id === id);
                const newName = prompt('Edit item name:', item.name);
                
                if (newName !== null && newName.trim() !== '') {
                    // Update item name
                    groceries = groceries.map(item => {
                        if (item.id === id) {
                            return { ...item, name: newName.trim() };
                        }
                        return item;
                    });
                    
                    saveToLocalStorage();
                    renderGroceryList();
                }
            }
            
            function deleteItem(id) {
                if (confirm('Are you sure you want to delete this item?')) {
                    // Remove item from array
                    groceries = groceries.filter(item => item.id !== id);
                    
                    saveToLocalStorage();
                    renderGroceryList();
                    updateStats();
                }
            }
            
            function renderGroceryList() {
                // Clear current list
                groceryList.innerHTML = '';
                
                // Filter items based on current filter
                let filteredGroceries = groceries;
                if (currentFilter === 'active') {
                    filteredGroceries = groceries.filter(item => !item.completed);
                } else if (currentFilter === 'completed') {
                    filteredGroceries = groceries.filter(item => item.completed);
                }
                
                // Show/hide empty state
                if (filteredGroceries.length === 0) {
                    emptyState.style.display = 'block';
                } else {
                    emptyState.style.display = 'none';
                    
                    // Render each item
                    filteredGroceries.forEach(item => {
                        const li = document.createElement('li');
                        li.className = `grocery-item ${item.completed ? 'completed' : ''}`;
                        
                        li.innerHTML = `
                            <input type="checkbox" class="item-checkbox" ${item.completed ? 'checked' : ''}>
                            <span class="item-name">${item.name}</span>
                            <div class="item-actions">
                                <button class="edit-btn">Edit</button>
                                <button class="delete-btn">Delete</button>
                            </div>
                        `;
                        
                        // Add event listeners to buttons
                        const checkbox = li.querySelector('.item-checkbox');
                        const editBtn = li.querySelector('.edit-btn');
                        const deleteBtn = li.querySelector('.delete-btn');
                        
                        checkbox.addEventListener('change', () => toggleItem(item.id));
                        editBtn.addEventListener('click', () => editItem(item.id));
                        deleteBtn.addEventListener('click', () => deleteItem(item.id));
                        
                        groceryList.appendChild(li);
                    });
                }
            }
            
            function updateStats() {
                const total = groceries.length;
                const completed = groceries.filter(item => item.completed).length;
                
                totalItemsSpan.textContent = `Total: ${total} ${total === 1 ? 'item' : 'items'}`;
                completedItemsSpan.textContent = `Completed: ${completed}`;
            }
            
            function saveToLocalStorage() {
                localStorage.setItem('groceries', JSON.stringify(groceries));
            }
        });
    </script>
</body>
</html>
